# –î–æ–∫–ª–∞–¥: –ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å –∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å –≤ JavaScript (Node.js)

üìπ [–í–∏–¥–µ–æ: –î–æ–∫–ª–∞–¥.mp4](./–î–æ–∫–ª–∞–¥.mp4)

## –í–≤–µ–¥–µ–Ω–∏–µ
–í JavaScript –æ—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã –∏—Å–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ –æ–¥–Ω–æ–º –ø–æ—Ç–æ–∫–µ. –ü–æ—ç—Ç–æ–º—É ‚Äú–∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è‚Äù –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å (–∫–∞–∫ –≤ C++/Java) –≤ –±–∞–∑–æ–≤–æ–π –º–æ–¥–µ–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç. –ü—Ä–∏ —ç—Ç–æ–º —è–∑—ã–∫ –∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–∞—é—Ç —É–¥–æ–±–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç–∏ (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è), –∞ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ ‚Äî –∏ —Ä–µ–∞–ª—å–Ω—ã–π –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º —á–µ—Ä–µ–∑ –≤–æ—Ä–∫–µ—Ä—ã.

## –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å: event loop, –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å, Promises
–ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Ç–∏–ø–æ–≤—ã—Ö –∑–∞–¥–∞—á (—Å–µ—Ç–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã, –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤–≤–æ–¥–∞-–≤—ã–≤–æ–¥–∞, —Ç–∞–π–º–µ—Ä—ã) –≤ JavaScript –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ. –ü—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—é –∏ –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –æ–∂–∏–¥–∞–Ω–∏–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞: –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω –ø–æ–∑–∂–µ, –∫–æ–≥–¥–∞ —Å–æ–±—ã—Ç–∏–µ –ø–æ–ø–∞–¥—ë—Ç –≤ –æ—á–µ—Ä–µ–¥—å –∏ –±—É–¥–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ event loop.

Promises –∏ `async/await` —è–≤–ª—è—é—Ç—Å—è –æ—Å–Ω–æ–≤–Ω–æ–π –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ–π –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–µ–π –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞. –û–Ω–∏ —É–ø—Ä–æ—â–∞—é—Ç –æ–ø–∏—Å–∞–Ω–∏–µ ‚Äú—á—Ç–æ —Å–¥–µ–ª–∞—Ç—å –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏‚Äù, –ø–æ–≤—ã—à–∞—é—Ç —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∏ –ø–æ–∑–≤–æ–ª—è—é—Ç –ø–∏—Å–∞—Ç—å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—É—é –ª–æ–≥–∏–∫—É –±–µ–∑ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –∫–æ–ª–±—ç–∫–æ–≤. –ü—Ä–∏ —ç—Ç–æ–º Promises/`async/await` –Ω–µ —Å–æ–∑–¥–∞—é—Ç –ø–æ—Ç–æ–∫–∏, –∞ –ª–∏—à—å –æ—Ä–≥–∞–Ω–∏–∑—É—é—Ç –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –ø–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.

## Node.js: –ø–æ—á–µ–º—É I/O —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –±–µ–∑ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç–∏ JS-–∫–æ–¥–∞
Node.js —Ö–æ—Ä–æ—à–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è I/O-–Ω–∞–≥—Ä—É–∑–∫–∏ –∑–∞ —Å—á—ë—Ç –Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–µ–π –º–æ–¥–µ–ª–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: JavaScript-–∫–æ–¥ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –∏—Å–ø–æ–ª–Ω—è—Ç—å—Å—è, –ø–æ–∫–∞ –≤–Ω–µ—à–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (—Å–µ—Ç—å/—Ñ–∞–π–ª—ã) –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤–Ω–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è JS. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±—Å–ª—É–∂–∏–≤–∞—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–æ—Ç–æ–∫ –Ω–∞ –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å.

–í–∞–∂–Ω–æ: CPU-—Ç—è–∂—ë–ª—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è, –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –ø–æ—Ç–æ–∫–µ, –±–ª–æ–∫–∏—Ä—É—é—Ç event loop –∏ —É—Ö—É–¥—à–∞—é—Ç –æ—Ç–∫–ª–∏–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –í —Ç–∞–∫–∏—Ö —Å–ª—É—á–∞—è—Ö —Ç—Ä–µ–±—É–µ—Ç—Å—è –≤—ã–Ω–æ—Å –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞.

## –†–µ–∞–ª—å–Ω—ã–π –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º: Workers
–î–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è CPU-–∑–∞–¥–∞—á –≤ JavaScript –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤–æ—Ä–∫–µ—Ä—ã:
- **Web Workers** –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- **worker_threads** –≤ Node.js

Worker –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–¥ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ç–æ–∫–µ –∏ –æ–±—â–∞–µ—Ç—Å—è —Å –æ—Å–Ω–æ–≤–Ω—ã–º –ø–æ—Ç–æ–∫–æ–º —á–µ—Ä–µ–∑ —Å–æ–æ–±—â–µ–Ω–∏—è. –í Node.js —Ç–∞–∫–∂–µ –≤–æ–∑–º–æ–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞ —Å –æ–±—â–µ–π –ø–∞–º—è—Ç—å—é —á–µ—Ä–µ–∑ `SharedArrayBuffer` –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é —Å –ø–æ–º–æ—â—å—é `Atomics`. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —É—Å–∫–æ—Ä—è—Ç—å –≤—ã—á–∏—Å–ª–µ–Ω–∏—è, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –∞–∫–∫—É—Ä–∞—Ç–Ω–æ—Å—Ç–∏: –ø–æ—è–≤–ª—è—é—Ç—Å—è –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, —Ç–∞–∫–∏–µ –∫–∞–∫ race condition –∏ deadlock.

## –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç–∏
–ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ –≤ JavaScript/Node.js —á–∞—Å—Ç–æ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ –ø–æ–¥—Ö–æ–¥—ã:
- **Worker Pool**: –æ—á–µ—Ä–µ–¥—å –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–¥–∞—á –∏ –Ω–∞–±–æ—Ä –≤–æ—Ä–∫–µ—Ä–æ–≤; –ø–µ—Ä–≤—ã–π —Å–≤–æ–±–æ–¥–Ω—ã–π –≤–æ—Ä–∫–µ—Ä –∑–∞–±–∏—Ä–∞–µ—Ç —Å–ª–µ–¥—É—é—â—É—é –∑–∞–¥–∞—á—É.
- **Pipeline (–∫–æ–Ω–≤–µ–π–µ—Ä)**: –∑–∞–¥–∞—á–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ—Ö–æ–¥–∏—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç–∞–¥–∏–π –æ–±—Ä–∞–±–æ—Ç–∫–∏, –∫–∞–∂–¥–∞—è —Å—Ç–∞–¥–∏—è –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–Ω–µ—Å–µ–Ω–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å.
- **Fan-out / Fan-in**: —Ä–∞–∑–±–∏–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ –Ω–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ —á–∞—Å—Ç–∏, –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —ç—Ç–∏—Ö —á–∞—Å—Ç–µ–π –∏ –ø–æ—Å–ª–µ–¥—É—é—â–µ–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.

## –°–≤—è–∑—å —Å –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–º–∏ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ã–º–∏ —Ä–∞–±–æ—Ç–∞–º–∏
- –í –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ã—Ö –ø–æ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—é (scheduler) —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—á–µ—Ä–µ–¥—è–º–∏ –∑–∞–¥–∞—á: –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã, –∫–≤–∞–Ω—Ç—ã –≤—Ä–µ–º–µ–Ω–∏, –ø–æ–Ω–∏–∂–µ–Ω–∏–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ –∏ –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–π ‚Äúboost‚Äù (–ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –∑–∞–¥–∞—á –≤ –æ—á–µ—Ä–µ–¥—å –≤—ã—Å–æ–∫–æ–≥–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞). –≠—Ç–æ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø—ã –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∏–∑–∞—Ü–∏–∏, –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ –û–°.
- –í –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ã—Ö –ø–æ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –ø–æ–∫–∞–∑–∞–Ω—ã –±–∞–∑–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç–∏ –ø—Ä–∏ –æ–±—â–µ–π –ø–∞–º—è—Ç–∏ (race condition, deadlock) –∏ –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã –ø—Ä–∏–∫–ª–∞–¥–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã (worker pool, pipeline, fan-in/fan-out).
- –í –∑–∞–¥–∞—á–µ –ø–æ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ø–æ–∫–∞–∑–∞–Ω–æ, —á—Ç–æ –¥–≤—É–º–µ—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Ö–æ—Ä–æ—à–æ —Ä–∞—Å–ø–∞—Ä–∞–ª–ª–µ–ª–∏–≤–∞—é—Ç—Å—è: –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–æ–∂–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø–æ —Å—Ç—Ä–æ–∫–∞–º/–±–ª–æ–∫–∞–º/–ø–∏–∫—Å–µ–ª—è–º –≤ —Ä–∞–∑–Ω—ã—Ö –≤–æ—Ä–∫–µ—Ä–∞—Ö –∏ —Å—Ä–∞–≤–Ω–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å –æ–¥–Ω–æ–ø–æ—Ç–æ—á–Ω–æ–π –≤–µ—Ä—Å–∏–µ–π.

## –í—ã–≤–æ–¥
JavaScript –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–≤–∞ —É—Ä–æ–≤–Ω—è —Ä–∞–±–æ—Ç—ã —Å ‚Äú–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ—Å—Ç—å—é‚Äù:
1) **–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å** —á–µ—Ä–µ–∑ event loop –∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ (Promises, `async/await`) ‚Äî —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞ –¥–ª—è I/O –∏ –±–æ–ª—å—à–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.
2) **–ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º** —á–µ—Ä–µ–∑ Workers ‚Äî –Ω–µ–æ–±—Ö–æ–¥–∏–º –¥–ª—è CPU-—Ç—è–∂—ë–ª—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –∏ —Ä–µ–∞–ª—å–Ω–æ–≥–æ —É—Å–∫–æ—Ä–µ–Ω–∏—è –∑–∞ —Å—á—ë—Ç –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ—Ç–æ–∫–æ–≤.

–í—ã–±–æ—Ä –ø–æ–¥—Ö–æ–¥–∞ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∞ –Ω–∞–≥—Ä—É–∑–∫–∏: I/O-–Ω–∞–≥—Ä—É–∑–∫–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —Ä–µ—à–∞–µ—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å—é, –∞ –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–∞—è ‚Äî –≤—ã–Ω–æ—Å–æ–º —Ä–∞–±–æ—Ç—ã –≤ –≤–æ—Ä–∫–µ—Ä—ã –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∑–∞–¥–∞—á.